(this["webpackJsonpreact-nfc"]=this["webpackJsonpreact-nfc"]||[]).push([[0],{14:function(e,n,t){},15:function(e,n,t){},17:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var c=t(1),s=t.n(c),a=t(7),r=t.n(a),i=(t(14),t(3)),o=t(2),l=t.p+"static/media/nfc.1e1c9c72.svg",j=(t(15),t(8),t(6)),u=t.n(j),b=t(9),d=(t(17),t.p+"static/media/spinner.e8697d57.gif"),O=Object(c.createContext)({scan:null,write:null,setActions:function(){}}),f=t(0),x=function(){var e=Object(c.useContext)(O),n=e.actions,t=e.setActions;return Object(f.jsxs)("div",{className:"scanner",children:[Object(f.jsx)("p",{className:"scanner-exit",onClick:function(){return t(Object(i.a)(Object(i.a)({},n),{},{scan:null}))},children:"X"}),Object(f.jsxs)("div",{className:"scanner-container",children:[Object(f.jsx)("img",{src:d,alt:"spinning log",className:"scanner-image"}),Object(f.jsx)("p",{className:"scanner-text",children:"Scanning..."})]})]})},g=function(){var e=Object(c.useState)(""),n=Object(o.a)(e,2),t=(n[0],n[1],Object(c.useState)("")),s=Object(o.a)(t,2),a=(s[0],s[1],Object(c.useState)("")),r=Object(o.a)(a,2),i=(r[0],r[1],Object(c.useContext)(O)),l=i.actions,j=i.setActions,d=Object(c.useCallback)(Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("NDEFReader"in window)){e.next=15;break}return console.log("got it"),e.prev=2,n=new window.NDEFReader,e.next=6,n.scan();case 6:console.log("Scan started successfully."),n.onreadingerror=function(){console.log("Cannot read data from the NFC tag. Try another one?")},n.onreading=function(e){j({scan:"scanned"})},e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Error! Scan failed to start: ".concat(e.t0,"."));case 14:case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),[j]);return Object(c.useEffect)((function(){d()}),[d]),Object(f.jsx)(f.Fragment,{children:"scanned"===l.scan?Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Scanned"})}):Object(f.jsx)(x,{status:l.scan})})};var h=function(){var e=Object(c.useState)(null),n=Object(o.a)(e,2),t=n[0],s=n[1],a=t||{},r=a.scan,j=(a.write,{actions:t,setActions:s}),u=function(e){s(Object(i.a)({},e))};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(f.jsx)("h1",{children:"NFC Tool"}),Object(f.jsxs)("div",{className:"App-container",children:[Object(f.jsx)("button",{onClick:function(){return u({scan:"scanning"})},className:"btn",children:"Scan"}),Object(f.jsx)("button",{onClick:function(){return u({scan:null})},className:"btn",children:"Write"})]}),Object(f.jsx)("p",{children:"Version Less."}),Object(f.jsx)(O.Provider,{value:j,children:r&&Object(f.jsx)(g,{})})]})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(n){var t=n.getCLS,c=n.getFID,s=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(h,{})}),document.getElementById("root")),p()}},[[19,1,2]]]);
//# sourceMappingURL=main.9ea12122.chunk.js.map